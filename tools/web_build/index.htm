<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<link rel="icon" type="image/x-icon" href="/favicon.png">
	<meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no'>
    <meta name='mobile-web-app-capable' content='yes'>
	<meta name='apple-mobile-web-app-capable' content='yes'>
	
	<style>
		html { height:100%; }
		body {
			background-color: #101015;
			color: #EEE;
			font-family: Verdana, Geneva, Tahoma, sans-serif;
			height: 100%;
			margin: 0px;
			padding: 0 8px 0px 8px;

			display:grid;
			grid-template-columns: 100%;
			grid-template-rows: 60px calc(100% - 68px);
			grid-template-areas: "head" "content";
		}
		a { color: #EEE; }
		canvas {
			width:100%;
			height:100%;
		}
	</style>
</head>

<body>
	<!-- Starting WebXR must be user-activated, this calls into the C application. -->
	<div style="grid-area: head;">
	<p><a href="https://stereokit.net">StereoKit</a> WebGL/WASM demo</p> <!-- - <a href="javascript:_start_xr()">Start XR</a>-->
	</div>
	
	<!-- Create the canvas that the C++ code will draw into -->
	<div style="grid-area: content;">
	<canvas id="canvas" oncontextmenu="event.preventDefault()" width=800 height=480></canvas>
	</div>
	
	<!-- Allow the C++ to access the canvas element --> 
	<script type='text/javascript'>
		var resize_time;
		function canvas_resize(){
			clearTimeout(resize_time);
			resize_time = setTimeout(function() {
				var canv = document.getElementById('canvas');
				canv.width  = canv.offsetWidth;
				canv.height = canv.offsetHeight;
				_sk_web_canvas_resize(canv.width, canv.height);
			}, 200);
		}

		var canv = document.getElementById('canvas');
		canv.width  = canv.offsetWidth;
		canv.height = canv.offsetHeight;
		var Module = {
			canvas: canv
		};
		window.addEventListener('resize', canvas_resize, false);
	</script>
	
	<!-- Call the javascript glue code (index.js) as generated by Emscripten -->
	<script src="StereoKitCTest.js"></script>
</body>

</html>
